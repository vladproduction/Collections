<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Java ListIterator Review</title>
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; margin: 20px; }
        code { background: #f4f4f4; padding: 2px 5px; border-radius: 3px; }
        pre { background: #f4f4f4; padding: 10px; border-left: 4px solid #007acc; overflow-x: auto; }
        h1, h2, h3 { color: #007acc; }
        .section { margin-bottom: 30px; }
    </style>
</head>
<body>

<h1>Java ListIterator Interface - Review</h1>

<div class="section">
    <h2>📘 Overview</h2>
    <p><code>ListIterator&lt;E&gt;</code> is a bidirectional iterator used to iterate over a <code>List</code> in both directions.</p>
    <p>It extends <code>Iterator&lt;E&gt;</code> and adds more powerful navigation and modification capabilities.</p>
</div>

<div class="section">
    <h2>✅ Key Methods</h2>
    <ul>
        <li><code>boolean hasNext()</code>, <code>E next()</code></li>
        <li><code>boolean hasPrevious()</code>, <code>E previous()</code></li>
        <li><code>int nextIndex()</code>, <code>int previousIndex()</code></li>
        <li><code>void remove()</code></li>
        <li><code>void set(E e)</code> – replaces the last element returned</li>
        <li><code>void add(E e)</code> – inserts before the next element</li>
    </ul>
</div>

<div class="section">
    <h2>🧩 Example: Bidirectional Iteration</h2>
    <pre><code>List&lt;String&gt; animals = new ArrayList&lt;&gt;();
animals.add("dog");
animals.add("cat");
animals.add("mouse");

ListIterator&lt;String&gt; it = animals.listIterator();

System.out.println("Forward:");
while (it.hasNext()) {
    System.out.println(it.next());
}

System.out.println("Backward:");
while (it.hasPrevious()) {
    System.out.println(it.previous());
}</code></pre>
</div>

<div class="section">
    <h2>🛠️ Modifying While Iterating</h2>
    <p><code>ListIterator</code> allows safe <code>add()</code>, <code>remove()</code>, and <code>set()</code> during iteration.</p>
    <pre><code>while (it.hasNext()) {
    String item = it.next();
    if (item.equals("cat")) {
        it.set("lion"); // replaces "cat"
    } else if (item.equals("mouse")) {
        it.add("elephant"); // adds after "mouse"
    }
}</code></pre>
    <p>🚫 <strong>Important:</strong> Call <code>next()</code> or <code>previous()</code> before <code>remove()</code> or <code>set()</code>, otherwise you'll get <code>IllegalStateException</code>.</p>
</div>

<div class="section">
    <h2>⚠️ Common Pitfalls</h2>
    <ul>
        <li>Using <code>ListIterator</code> with non-list collections like <code>Set</code> or <code>Map</code> → Not supported</li>
        <li>Calling <code>remove()</code> or <code>set()</code> before a valid call to <code>next()</code> or <code>previous()</code></li>
        <li>Confusion between <code>add()</code> (inserts) and <code>set()</code> (replaces)</li>
    </ul>
</div>

<div class="section">
    <h2>🔄 Navigation Indexes</h2>
    <pre><code>System.out.println(it.nextIndex());    // index of next element
System.out.println(it.previousIndex()); // index of previous element</code></pre>
</div>

<div class="section">
    <h2>📌 When to Use</h2>
    <ul>
        <li>When you need to traverse a list in both directions</li>
        <li>When you need to modify elements (replace or insert) during iteration</li>
        <li>When index awareness is useful during iteration</li>
    </ul>
</div>

</body>
</html>
